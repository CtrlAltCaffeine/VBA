import re
xml_text = None

import tkinter as tk
from tkinter import filedialog

def get_file_content():
   
    root = tk.Tk()
    root.withdraw()

    file_path = filedialog.askopenfilename(title="Select a text file", filetypes=[("Text files", "*.txt")])

  
    if file_path:
        with open(file_path, 'r') as file:
            txt = file.read()
        return txt
    else:
        return None

xml_text = get_file_content()

def extract_first_two_bicfi(xml_content):
    
    bicfi_regex = re.compile(r'<BICFI>(.*?)<\/BICFI>', re.DOTALL)
    
    
    bicfi_matches = bicfi_regex.findall(xml_content, 2)
    
    if len(bicfi_matches) < 2:
        return None, None
    return bicfi_matches[0], bicfi_matches[1]


sender, receiver = extract_first_two_bicfi(xml_text)


def extract_msgdefldr_content(xml_content):
  
    msgdefldr_regex = re.compile(r'<MsgDefldr>(.*?)<\/MsgDefldr>', re.DOTALL)
    match = msgdefldr_regex.search(xml_content)
    return match.group(1).strip() if match else None


msgType = extract_msgdefldr_content(xml_text)

def extract_bizmsgldr_content(xml_content):
    bizmsgldr_regex = re.compile(r'<BizMsgldr>(.*?)<\/BizMsgldr>', re.DOTALL)
    match = bizmsgldr_regex.search(xml_content)
    return match.group(1).strip() if match else None


msgRef = extract_bizmsgldr_content(xml_text)
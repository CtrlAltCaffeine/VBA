function downloadFileFromURL(url) {
  var response = UrlFetchApp.fetch(url);
  var content = response.getContent();
  var fileName = getFileNameFromURL(url); // Function to extract the file name from the URL
  var contentType = response.getHeaders()['Content-Type'];

  var blob = Utilities.newBlob(content, contentType, fileName);

  // Prompt the user to save the file
  var ui = SpreadsheetApp.getUi();
  var response = ui.prompt('File Download', 'Enter the desired file name:', ui.ButtonSet.OK_CANCEL);

  if (response.getSelectedButton() == ui.Button.OK) {
    var desiredFileName = response.getResponseText();
    blob.setName(desiredFileName);
    var folder = DriveApp.getRootFolder(); // Change to the desired folder if you want to save it to a specific folder
    var file = folder.createFile(blob);
    Logger.log('File "' + desiredFileName + '" downloaded successfully.');
  } else {
    Logger.log('Download canceled.');
  }
}

// Function to extract the file name from the URL
function getFileNameFromURL(url) {
  var parts = url.split("/");
  return parts[parts.length - 1];
}
